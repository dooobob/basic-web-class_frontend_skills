<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Step03_Manipulation3.html</title>
	<style>
	#msgList li:hover{
		background-color: yellow;
		cursor: pointer;
	}
	</style>
</head>
<body>
	<div class="container">
		<input type="text" id="inputText"/>
		<button id="addBtn">추가</button>
		<button id="clear">clear</button>
		<br/>
		<ul id="msgList">
			<li>하나</li>
			<li>두울</li>
		</ul>
	</div>
	<script src="js/jquery-1.11.2.js"></script>
	<script>	

	(function(){
		//버튼눌렀을때 실행할 함수 등록	
		$("#addBtn").click(function(){	
			send();
		});
		//clear 버튼을 눌렀을때 실행할 함수 등록
		$("#clear").click(function(){
			//선택된 문서 객체의 자식요소를 모두 삭제
			//$("#msgList").empty();

			//선택된 문서 객체를 삭제하기
			$("#msgList li").remove();
		});

		//$("#inputText").keyup(function(){});
		$("#inputText").on("keyup",function(e){
			//눌러진 키의 코드값을 읽어온다.
			var code=e.keyCode;
			//console.log(code);
			//만일 엔터키를 눌렀다면(code==13)
			if(code==13){
			send();			
			}
		});

		function send(){
			//입력한 내용을 읽어온다.
			var msg=$("#inputText").val();	
			//li요소를 만들어서 text node로 msg를 출력하고 ul요소에 append한다.
			$("<li/>").text(msg).appendTo("ul");
			//입력창 초기화
			$("#inputText").val("");		
		};		
		/*
		$("#msgList li").click(function(){
			//이벤트가 일어난 요소의 text node 값을 읽어온다.
			var str=$(this).text();
			//alert 창에 띄우기
			alert(str);
		});*/
		//현재 존재하거나 혹은 미래에 추가될 문서객체에 이벤트를 등록하는 방법
		$(document).on("click","#msgList li",function(){
			//이벤트가 일어난 요소의 text node 값을 읽어온다.
			var str=$(this).text();
			//alert 창에 띄우기
			alert(str);			
		});
	})();
	
	</script>	
</body>
</html>